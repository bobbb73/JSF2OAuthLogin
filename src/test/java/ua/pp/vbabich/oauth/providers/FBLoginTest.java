package ua.pp.vbabich.oauth.providers;import org.junit.Test;import java.util.Map;import static org.junit.Assert.assertEquals;import static org.junit.Assert.assertNotNull;public class FBLoginTest {    @Test    public void testDecodeResponse() throws Exception {        String json = "{" +                    "\"id\":\"100001714431144\"" +                    ",\"first_name\":\"\\u0412\\u043e\\u043b\\u043e\\u0434\\u0438\\u043c\\u0438\\u0440\"" +                    ",\"gender\":\"male\"" +                    ",\"last_name\":\"\\u0411\\u0430\\u0431\\u0438\\u0447\"" +                    ",\"link\":\"https:\\/\\/www.facebook.com\\/app_scoped_user_id\\/100001714431144\\/\"" +                    ",\"locale\":\"uk_UA\"" +                    ",\"name\":\"\\u0412\\u043e\\u043b\\u043e\\u0434\\u0438\\u043c\\u0438\\u0440 \\u0411\\u0430\\u0431\\u0438\\u0447\"" +                    ",\"timezone\":3" +                    ",\"updated_time\":\"2016-01-03T11:14:58+0000\"" +                    ",\"verified\":true" +                "}";        FBLogin target = new FBLogin();        FBLogin.FB fb = target.decodeResponse(json);        assertEquals(fb.id, "100001714431144");        assertEquals(fb.first_name, "Володимир");        assertEquals(fb.last_name, "Бабич");        assertEquals(fb.name, "Володимир Бабич");    }    @Test    public void testDecodeRestrictedResponse() throws Exception {        String json = "{\"name\":\"\\u0412\\u043e\\u043b\\u043e\\u0434\\u0438\\u043c\\u0438\\u0440 \\u0411\\u0430\\u0431\\u0438\\u0447\",\"id\":\"100001714431144\"}";        FBLogin target = new FBLogin();        FBLogin.FB fb = target.decodeResponse(json);        assertEquals(fb.id, "100001714431144");        assertEquals(fb.name, "Володимир Бабич");    }    @Test    public void testParseRetString() throws Exception {        String ret = "{\"access_token\":\"EAAHGTmBhjhgBAE148wcZCN3RoOFDlY2DtmDu8RSEKnrOi9aXSybShftMgZAsyIEiVQgoAGFtE8mhQjqTngWlISqZBa3B9hnQOEsRxNZBNv75O8qfCiyrZC6SnQ6SxI7nUiZAQByG54F8yymIYPpyzB0viCAZBtWIy4ZD\",\"token_type\":\"bearer\",\"expires_in\":5184000}";        FBLogin fbLogin = new FBLogin();        Map<String,String> target = fbLogin.parse(ret);        assertNotNull(target);        assertEquals(target.get("access_token"),"EAAHGTmBhjhgBAE148wcZCN3RoOFDlY2DtmDu8RSEKnrOi9aXSybShftMgZAsyIEiVQgoAGFtE8mhQjqTngWlISqZBa3B9hnQOEsRxNZBNv75O8qfCiyrZC6SnQ6SxI7nUiZAQByG54F8yymIYPpyzB0viCAZBtWIy4ZD");        assertEquals(target.get("expires_in"),"5184000");    }}